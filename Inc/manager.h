/* #######################################################################################################
 *											INTRODUCTION
 * ####################################################################################################### */
/* *********************************************************************************************************
 *
 * =======================================================================================================
 * COMMENTS:
 *
 * =======================================================================================================
 * EXAMPLE:
 *
 ********************************************************************************************************** */

#ifndef MANAGER_H_
#define MANAGER_H_



/* #######################################################################################################
 *											INCLUDES
 * ####################################################################################################### */

#include <stdbool.h>
#include "a4988_stepstick.h"
#include "EEPROM_24AA01.h"
#include "ST7565.h"



/* #######################################################################################################
 *											DEFINES
 * ####################################################################################################### */

#define MOTORS_NUM 4



/* #######################################################################################################
 *											DATA TYPES
 * ####################################################################################################### */

typedef struct MotorData_EEPROM{
	double maxSpeed;

	int stepSize;

	int positionZero;
	int positionEnd;
}MotorData_EEPROM;

typedef struct DeviceSettings_Tag{
	enum {
		RELATIVE,
		ABSOLUTE
	}positioningMode;

	enum {
		IDLE,
		READY,
		BUSY
	}sdCommandState;

	MotorSettings* motors[MOTORS_NUM];

	EEPROMSettings* eeprom;

	ST7565R_Settings* lcd;

	bool errMove;

	double speed;
}DeviceSettings;



/* #######################################################################################################
 *											EXTERNS
 * ####################################################################################################### */

extern DeviceSettings printerSettings;


/* #######################################################################################################
 *										PUBLIC DECLARATIONS
 * ####################################################################################################### */



#endif /*MANAGER_H_*/
