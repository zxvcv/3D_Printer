/* #######################################################################################################
 *											INTRODUCTION
 * ####################################################################################################### */
/* *********************************************************************************************************
 *
 * =======================================================================================================
 * COMMENTS:
 * 		.
 * =======================================================================================================
 * EXAMPLE:
 *
 ********************************************************************************************************** */

#ifndef MANAGER_SDCARD_H_
#define MANAGER_SDCARD_H_



/* #######################################################################################################
 *											INCLUDES
 * ####################################################################################################### */

#include <stdbool.h>
#include "FIFO_void.h"
#include "diskio.h"



/* #######################################################################################################
 *											DEFINES
 * ####################################################################################################### */

#define BYTES_TO_READ 50



/* #######################################################################################################
 *											DATA TYPES
 * ####################################################################################################### */

typedef struct SDCard_Settings_Tag{
	FIL* file;

	List* BuffIN_SDcmd;

	uint8_t activeTab;
	uint8_t dataSDin[2][BYTES_TO_READ];
	uint8_t counterTab[2];

	bool end_SDprogram;
	bool executing_SDprogram;
	bool executing_SDcommand;

#ifdef LOG_ENABLE
	FIL* logFile;
	List* BuffOUT_logs = NULL;
#endif /*LOG_ENABLE*/
}SDCard_Settings;



/* #######################################################################################################
 *											EXTERNS
 * ####################################################################################################### */



/* #######################################################################################################
 *										PUBLIC DECLARATIONS
 * ####################################################################################################### */

void init_operations_SDcard(SDCard_Settings* settings);
void parse_data_SDcard(SDCard_Settings* settings);
void execute_command_SDcard(SDCard_Settings* settings);
#ifdef LOG_ENABLE
void send_logs_SDcard();
#endif
void reset_commands_SDcard(SDCard_Settings* settings);
void detecting_endCommand_SDcard(SDCard_Settings* settings);



#endif /*MANAGER_SDCARD_H_*/
